
<div class="pageContent" >
	<form method="post" action="__URL__/savenode/navTabId/listrrole/callbackType/closeCurrent"  class="pageForm required-validate" 
		onsubmit="return validateCallback(this,dialogAjaxDone);"><?php  //窗体组件采用这个 iframeCallback(this, navTabAjaxDone); ?>
		<input type="hidden" name="rid" value="{$role.id}"/>
		<div class="pageFormContent" layoutH="60">
			<h3>当前用户:【{$role.name}】的操作节点信息</h3>
				<div style="width:100%;clear:both;float:left;margin:6px;">
					<input type="checkbox" name="all" />全选
					<input type="checkbox" name="no" />全不选
					<input type="checkbox" name="negative" />反选
				</div>
			{foreach $list as $vo}
				<div class="node" style="width:140px;float:left;margin:4px;">
					<input type="checkbox" name="nid[]" {if in_array($vo.id,$mynode)}checked{/if} value="{$vo.id}"/>{$vo.name}
				</div>
			{/foreach}
		</div>
		<script>
			$(function(){
				$(":checkbox[name=all]").change(function(){
					if($(this).attr("checked")=="checked"){
						$(".node>:checkbox").attr("checked",true);
						}
					})
				$(":checkbox[name=no]").change(function(){
					if($(this).attr("checked")=="checked"){
						$(".node>:checkbox").attr("checked",false);
						}
					})
				$(":checkbox[name=negative]").change(function(){
					if($(this).attr("checked")=="checked"){
						var obs = $(".node>:checkbox:checked"); //获取所有选中
							$(".node>:checkbox").attr("checked",true);
							obs.attr("checked",false);
						}
					})
				})
			
		</script>
		<div class="formBar">
			<ul>
				<li><div class="buttonActive"><div class="buttonContent"><button type="submit">保存</button></div></div></li>
				<li><div class="button"><div class="buttonContent"><button type="button" class="close">取消</button></div></div></li>
			</ul>
		</div>
	</form>
</div>
